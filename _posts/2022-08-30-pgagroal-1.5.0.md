---
layout: post
title:  "pgagroal 1.5.0"
date:   2022-08-30
categories: release announcement
---

This is a feature release.

The release was driven by Luca Ferrari with a focus on production level usability.

### Features

* [#44](https://github.com/agroal/pgagroal/issues/44) Log formatting support
* [#45](https://github.com/agroal/pgagroal/issues/45) Log rotation support
* [#208](https://github.com/agroal/pgagroal/issues/208) Tell the user where the master key is stored
* [#219](https://github.com/agroal/pgagroal/issues/219) Provide Prometheus metrics cache
* [#244](https://github.com/agroal/pgagroal/issues/244) Allows spaces and comments in configuration parameters
* [#271](https://github.com/agroal/pgagroal/issues/271) Tutorial: Install
* [#272](https://github.com/agroal/pgagroal/issues/272) Tutorial: Prefill
* [#273](https://github.com/agroal/pgagroal/issues/273) Tutorial: Remote management
* [#274](https://github.com/agroal/pgagroal/issues/274) Tutorial: Prometheus
* [#277](https://github.com/agroal/pgagroal/issues/277) Tutorial: Split security
* [#285](https://github.com/agroal/pgagroal/issues/285) Introduce `update_process_title` setting
* [#291](https://github.com/agroal/pgagroal/issues/291) Shell completions for `pgagroal-cli` and `pgagroal-admin`

### Enhancements

* [#19](https://github.com/agroal/pgagroal/issues/19) Integrate uncrustify
* [#205](https://github.com/agroal/pgagroal/issues/205) Improve error messages when the limits exceed the number of max_connections
* [#206](https://github.com/agroal/pgagroal/issues/206) Remove is\_valid\_password function and provide better messages
* [#210](https://github.com/agroal/pgagroal/issues/210) Understand all 'debug' levels for log_level
* [#214](https://github.com/agroal/pgagroal/issues/214) Flush the old primary in case of a failover
* [#215](https://github.com/agroal/pgagroal/issues/215) Process title length
* [#217](https://github.com/agroal/pgagroal/issues/217) Return 400 Bad Request for any method except `GET`
* [#224](https://github.com/agroal/pgagroal/issues/224) Prefill when doing a `switch-to` or primary change
* [#234](https://github.com/agroal/pgagroal/issues/234) pgagroal-cli reload transfer also log\_rotation settings
* [#235](https://github.com/agroal/pgagroal/issues/235) Do not emit "restart" messages when adding a new server
* [#240](https://github.com/agroal/pgagroal/issues/240) Cleanup `pgagroal_read_configuration()`
* [#254](https://github.com/agroal/pgagroal/issues/254) Document `pgagroal-cli` commands that work on all databases
* [#257](https://github.com/agroal/pgagroal/issues/257) Refactoring of the configuration age and size parsing
* [#259](https://github.com/agroal/pgagroal/issues/259) Omit configuration warnings when running cli
* [#263](https://github.com/agroal/pgagroal/issues/263) Use a macro to perform the process-sleep
* [#265](https://github.com/agroal/pgagroal/issues/265) HTML validation and cleanup
* [#275](https://github.com/agroal/pgagroal/issues/275) `pgagraol-cli` gives priority to remote options when specified
* [#280](https://github.com/agroal/pgagroal/issues/280) Improve tutorial
* [#280](https://github.com/agroal/pgagroal/issues/280) Reduce code duplication while reading configuration
* [#292](https://github.com/agroal/pgagroal/issues/292) Make the version number comparable
* [#297](https://github.com/agroal/pgagroal/issues/297) Improve configuration error management
* [#303](https://github.com/agroal/pgagroal/issues/303) Allows for 'B' suffix in multiletter size specification
* [#306](https://github.com/agroal/pgagroal/issues/306) Remove `atoi()` in `as_logging_level()`
* [#316](https://github.com/agroal/pgagroal/issues/316) Use `err()`
* [#322](https://github.com/agroal/pgagroal/issues/322) OpenBSD and FreeBSD configuration files

### Bugs

* [#198](https://github.com/agroal/pgagroal/issues/198) Guard PID file creation
* [#204](https://github.com/agroal/pgagroal/issues/204) Guard against drivers with protocol violations
* [#221](https://github.com/agroal/pgagroal/issues/221) Fix broken link to sample configuration file
* [#230](https://github.com/agroal/pgagroal/issues/230) Correctly read last line of configuration file if no new-line
* [#231](https://github.com/agroal/pgagroal/issues/231) No warning messages about pid file when configuration reloads
* [#232](https://github.com/agroal/pgagroal/issues/232) Keep the same state for the same server during a reload
* [#245](https://github.com/agroal/pgagroal/issues/245) Fix warnings about server sections

### Thanks to

* fluca1978: #44, #45, #198, #205, #206, #208, #210, #215, #219, #221, #224, #230, #231, #232, #235, #240, #244, #245,
              #254, #257, #259, #263, #265, #278, #280, #282, #285, #287, #291, #292, #297, #298, #299, #301, #303,
              #306, #308, #309, #311, #313, #316, #318, #319
* nikitabugrovsky: #217

### Download

* [Source code](https://github.com/agroal/pgagroal/releases/download/1.5.0/pgagroal-1.5.0.tar.gz)
* [RPM](https://yum.postgresql.org) for Fedora 35/36, RHEL 8.x, CentOS 8.x and SEL 12
* [OpenSUSE](https://software.opensuse.org/download.html?project=server:database:postgresql&package=pgagroal) 15
